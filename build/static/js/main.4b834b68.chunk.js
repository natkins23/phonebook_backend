(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{40:function(e,n,t){},41:function(e,n,t){"use strict";t.r(n);var c=t(16),r=t.n(c),a=t(3),i=t(2),o=t(4),u=t.n(o),s="/api/persons",d=t(0),j=function(e){var n=e.persons,t=e.removePerson;return n.map((function(e){return Object(d.jsxs)("p",{children:[e.name," ",e.number,Object(d.jsx)("button",{onClick:function(){return t(e.id)},children:"delete"})]},e.id)}))},b=function(e){var n=e.filter,t=e.filterChange;return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{children:["filter shown with",Object(d.jsx)("input",{value:n,onChange:t})]})})},h=function(e){var n=e.name,t=e.nameChange,c=e.number,r=e.numberChange,a=e.addPerson;return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("form",{children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{children:["name: ",Object(d.jsx)("input",{value:n,onChange:t})]}),Object(d.jsxs)("div",{children:["number: ",Object(d.jsx)("input",{value:c,onChange:r})]})]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{onClick:a,type:"submit",children:"add"})})]})})},l=function(e){var n=e.notification;return null===n?null:Object(d.jsx)("div",{className:n.type,children:n.message})},f=function(){var e=Object(i.useState)([]),n=Object(a.a)(e,2),t=n[0],c=n[1],r=Object(i.useState)(""),o=Object(a.a)(r,2),f=o[0],m=o[1],O=Object(i.useState)(""),v=Object(a.a)(O,2),p=v[0],x=v[1],g=Object(i.useState)(""),w=Object(a.a)(g,2),C=w[0],k=w[1],y=Object(i.useState)(null),P=Object(a.a)(y,2),S=P[0],A=P[1],E=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";A({message:e,type:n}),setTimeout((function(){A(null)}),5e3)};Object(i.useEffect)((function(){u.a.get(s).then((function(e){return e.data})).then((function(e){c(e)}))}),[]);var F=C.length>0?t.filter((function(e){return e.name.includes(C)})):t;return Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{children:"test 3.11 - post build cp to backend / heroku"}),Object(d.jsx)("h2",{children:" Phonebook "}),Object(d.jsx)(l,{notification:S}),Object(d.jsx)(b,{filter:C,filterChange:function(e){k(e.target.value)}}),Object(d.jsx)("h2",{children:" add a new "}),Object(d.jsx)(h,{name:f,nameChange:function(e){m(e.target.value)},number:p,numberChange:function(e){x(e.target.value)},addPerson:function(e){e.preventDefault();var n,r,a=t.find((function(e){return f.trim()===e.name}));a?window.confirm("".concat(f," is already added to the phonebook, replace the old number with a new one?"))&&(n=a.id,r={name:a.name,number:p},u.a.put("".concat(s,"/").concat(n),r).then((function(e){return e.data}))).then((function(e){c(t.map((function(n){return n.id!==a.id?n:e}))),E("Changed number of  ".concat(a.name)),m(""),x("")})):function(e){return u.a.post(s,e).then((function(e){return e.data}))}({name:f,number:p}).then((function(e){c(t.concat(e)),E("Added  ".concat(f)),m(""),x("")}))}}),Object(d.jsx)("h2",{children:" Numbers "}),Object(d.jsx)(j,{persons:F,removePerson:function(e){var n=t.find((function(n){return n.id=e}));window.confirm("Are you sure you want to delete ".concat(n.name))&&function(e){return u.a.delete("".concat(s,"/").concat(e)).then((function(e){return e.data}))}(e).then((function(r){c(t.filter((function(n){return n.id!==e}))),E("Removed ".concat(n.name))})).catch((function(){c(t.filter((function(n){return n.id!==e}))),E("".concat(n.name," had already been removed"),"error")}))}})]})};t(40);r.a.render(Object(d.jsx)(f,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.4b834b68.chunk.js.map